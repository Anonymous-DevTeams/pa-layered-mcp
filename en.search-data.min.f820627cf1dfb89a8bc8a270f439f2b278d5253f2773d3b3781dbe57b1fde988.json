[{"id":0,"href":"/en/docs/pa-layer/overview/","title":"Architecture Overview","section":"PA-Layer","content":"Architecture Overview# Core architecture principles and rules of PA-Layer.\nHexagonal Architecture (Port/Adapter)# Core Idea# Separate business logic from technical details.\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ REST â”€â”€â”€â”€â–ºâ”‚ Port â”‚ â”‚ â†“ â”‚ gRPC â”€â”€â”€â”€â–ºâ”‚ Domain Logic (Business Core)â”‚â—„â”€â”€â”€â”€ DB â”‚ â†“ â”‚ GraphQL â”€â”€â”€â”€â–ºâ”‚ Port â”‚â—„â”€â”€â”€â”€ Cache â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Left: Driving Adapters (input) Right: Driven Adapters (output)Application in PA-Layer# We adopt only the core concepts of Hexagonal, not full implementation:\nOriginal Hexagonal PA-Layer Application Port (Interface) Port Document - Interface spec Adapter (Implementation) Code Implementation - Kotlin/TS/Go Driving/Driven distinction Simplified to input/output direction CQS (Command-Query Separation)# Principle# Command Query Changes state Reads state Has side effects No side effects Usually no return or Result Returns data PA-Layer Application# 1 2 3 4 5 6 7 8 9 10 11 12 13 14 // âŒ Anti-pattern: Mixed Command and Query interface UserPort { fun createUser(request: CreateUserRequest): User // Creates and returns } // âœ… Recommended: Separated interface UserCommandPort { suspend fun createUser(command: CreateUserCommand): CreateUserResult } interface UserQueryPort { suspend fun findUser(query: FindUserQuery): User? suspend fun listUsers(query: ListUsersQuery): List\u0026lt;User\u0026gt; } Layer Rules# Dependency Direction# Upper Layer â†’ Lower Layer (unidirectional) API â†“ L2 â†“ LM (optional) â†“ L1Rules:\nL1 cannot depend on other L1 L2 depends on L1 or LM LM depends only on L1 API depends on L2 L1 (Domain Layer)# Single domain responsibility Pure business logic Minimal external dependencies L2 (Feature Layer)# Combines multiple L1 Ports User feature unit Transaction boundary management LM (Mediator Layer) - Optional# Coordinates between L1 Ports Complex inter-domain interactions Use only when needed Document Conventions# Frontmatter Required Fields# 1 2 3 4 5 6 --- type: l2 # Required: Document type domain: auth # Recommended: Domain status: active # Optional: draft, active, deprecated depends_on: [] # Optional: Dependent documents --- Next Steps# Backend Conventions Frontend Conventions "},{"id":1,"href":"/en/docs/pa-retriever/basic/","title":"Basic Usage","section":"PA-Retriever","content":"Basic Usage# Basic commands and workflows for PA-Retriever.\nQuick Start# 1 2 3 4 5 6 7 8 9 10 11 # 1. Initialize pa init # 2. Index documents pa index # 3. Test search pa search \u0026#34;type:l2\u0026#34; # 4. Connect Claude pa mcp install Main Commands# Initialize (init)# 1 2 3 4 5 6 7 8 # Interactive initialization (recommended) pa init # Quick initialization with defaults pa init --yes # Re-initialize with clean slate pa init --clear Index (index)# 1 2 3 4 5 6 7 8 # Basic indexing (changed files only) pa index # Full re-indexing pa index --force # Verbose output pa index --verbose Output example:\nğŸ“š Indexing: /Users/user/playground/mcp-docs Processing: âœ“ ports/auth/L1-AuthPort.md âœ“ ports/auth/L2-LoginPort.md ... ğŸ“Š Complete: Total files: 47 New: 3 Updated: 2 Total tokens: 45,230Status (status)# 1 2 3 4 5 # Full dashboard pa status # Compact output pa status --compact Search (search)# 1 2 3 4 5 6 7 8 9 10 11 # Basic search pa search \u0026#34;login\u0026#34; # Type filter pa search \u0026#34;type:l2\u0026#34; # Complex query pa search \u0026#34;type:l2 AND domain:auth\u0026#34; # JSON output pa search \u0026#34;login\u0026#34; --json Version (version)# 1 pa version Common Workflows# Adding New Documents# 1 2 3 4 5 6 7 8 # 1. Create document in Obsidian # ports/orders/L2-CheckoutPort.md # 2. Index pa index # 3. Verify search pa search \u0026#34;L2-CheckoutPort\u0026#34; Switching Profiles# 1 2 3 4 5 6 7 8 # List profiles pa profile list # Switch to work profile pa use work # Check current profile pa status --compact Next Steps# Search Guide - Advanced queries Using with Claude - MCP integration "},{"id":2,"href":"/en/docs/configuration/claude/","title":"Claude Integration","section":"Configuration","content":"Claude Integration# Connect PA-Retriever with Claude Desktop and Claude Code.\nMCP (Model Context Protocol)# MCP is the protocol that Claude uses to communicate with external tools. PA-Retriever operates as an MCP server to provide document search/retrieval capabilities to Claude.\nAuto Setup# 1 2 3 4 5 6 7 8 9 10 11 # Auto-configure all clients pa mcp install # Claude Desktop only pa mcp install --desktop # Claude Code only pa mcp install --code # Check status pa mcp status Manual Setup# Claude Desktop (macOS)# Config file location:\n~/Library/Application Support/Claude/claude_desktop_config.jsonContent:\n1 2 3 4 5 6 7 8 { \u0026#34;mcpServers\u0026#34;: { \u0026#34;pa-retriever\u0026#34;: { \u0026#34;command\u0026#34;: \u0026#34;/usr/local/bin/pa\u0026#34;, \u0026#34;args\u0026#34;: [\u0026#34;serve\u0026#34;, \u0026#34;--mcp\u0026#34;] } } } Claude Desktop (Windows)# Config file location:\n%APPDATA%\\Claude\\claude_desktop_config.jsonContent:\n1 2 3 4 5 6 7 8 { \u0026#34;mcpServers\u0026#34;: { \u0026#34;pa-retriever\u0026#34;: { \u0026#34;command\u0026#34;: \u0026#34;C:\\\\Users\\\\\u0026lt;username\u0026gt;\\\\.local\\\\bin\\\\pa.exe\u0026#34;, \u0026#34;args\u0026#34;: [\u0026#34;serve\u0026#34;, \u0026#34;--mcp\u0026#34;] } } } Verify Connection# 1. Restart Claude Desktop# After configuration, completely quit and restart Claude Desktop.\n2. Check MCP Tools# In a conversation with Claude:\n\u0026#34;Tell me the available tools from PA-Retriever\u0026#34;Expected response:\nThe following tools are available from PA-Retriever MCP server: 1. search_docs - Search documents 2. get_doc - Get document 3. find_port - Find Port 4. get_architecture - Architecture rules 5. list_by_type - List by type 6. get_stats - Statistics3. Test Search# \u0026#34;Search for all L2 Ports in the auth domain\u0026#34;Claude will call PA-Retriever and return results.\nNext Steps# Obsidian Settings PA-Retriever Config "},{"id":3,"href":"/en/docs/","title":"Documentation","section":"PA-Layer","content":"PA-Layer Documentation# A comprehensive guide to installation, configuration, and architecture conventions for the PA-Layer system.\nTable of Contents# Installation\nPlatform-specific installation guides Workspace setup Required tools configuration Configuration\nClaude integration Obsidian settings PA-Retriever configuration PA-Layer\nArchitecture overview Backend conventions Frontend conventions PA-Retriever\nBasic usage Advanced features Using with Claude "},{"id":4,"href":"/en/docs/installation/","title":"Installation","section":"Documentation","content":"Installation# Environment setup guide for using the PA-Layer system.\nRequirements# Tool Version Purpose Claude Desktop Latest AI Agent Obsidian 1.4+ Document Editor pa-retriever 0.8+ Document Indexer \u0026amp; MCP Server Recommended# Tool Purpose VS Code Code Editor Claude Code AI Coding Agent Git Version Control Platform-specific Installation# macOS Installation Windows Installation Linux Installation Workspace Setup "},{"id":5,"href":"/en/docs/installation/macos/","title":"macOS Installation","section":"Installation","content":"macOS Installation Guide# Set up the PA-Layer environment on Apple Silicon (M1/M2/M3) and Intel Mac.\n1. Install with Homebrew (Recommended)# 1 2 3 4 5 6 7 8 9 # Install Homebrew (if not installed) /bin/bash -c \u0026#34;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)\u0026#34; # Install PA-Retriever brew tap pa-layer/tap brew install pa-retriever # Verify installation pa version 2. Manual Installation# Apple Silicon (M1/M2/M3)# 1 2 3 4 5 6 7 8 9 # Download curl -LO https://github.com/pa-layer/pa-retriever/releases/latest/download/pa-retriever-darwin-arm64.tar.gz # Extract tar xzf pa-retriever-darwin-arm64.tar.gz # Add to PATH chmod +x pa sudo mv pa /usr/local/bin/ Intel Mac# 1 2 3 4 5 6 7 # Download curl -LO https://github.com/pa-layer/pa-retriever/releases/latest/download/pa-retriever-darwin-amd64.tar.gz # Extract and install tar xzf pa-retriever-darwin-amd64.tar.gz chmod +x pa sudo mv pa /usr/local/bin/ 3. Install Required Tools# Claude Desktop# Download from claude.ai/download Move to Applications folder Launch and sign in Obsidian# 1 2 # Install with Homebrew brew install --cask obsidian 4. Shell Configuration# Zsh (~/.zshrc)# 1 2 3 4 5 6 7 8 # PA-Layer environment variables export PA_HOME=\u0026#34;$HOME/.pa\u0026#34; export PA_WORKSPACE=\u0026#34;$HOME/playground\u0026#34; # Aliases (optional) alias pas=\u0026#34;pa search\u0026#34; alias pai=\u0026#34;pa index\u0026#34; alias pac=\u0026#34;pa code\u0026#34; 5. Initialize# 1 2 3 4 5 # Interactive initialization (recommended) pa init # Quick initialization with defaults pa init --yes Next Steps# Workspace Setup - Directory structure setup Configuration - Claude integration "},{"id":6,"href":"/en/docs/pa-layer/backend/","title":"Backend Conventions","section":"PA-Layer","content":"Backend Conventions# PA-Layer Backend implementation guide.\nCommon Principles# Directory Structure# src/ â”œâ”€â”€ domain/ # By domain â”‚ â”œâ”€â”€ auth/ â”‚ â”‚ â”œâ”€â”€ port/ # Port interfaces â”‚ â”‚ â”œâ”€â”€ adapter/ # Adapter implementations â”‚ â”‚ â””â”€â”€ model/ # Domain models â”‚ â””â”€â”€ orders/ â”œâ”€â”€ api/ # API layer â””â”€â”€ infrastructure/ # InfrastructureNaming Rules# Type Rule Example L1 Port {Domain}Port UserPort, TokenPort L2 Port {Feature}Port LoginPort, CheckoutPort Adapter {Port}Adapter LoginAdapter Query {Domain}Query UserQuery Kotlin / Spring Framework# L1 Port Example# 1 2 3 4 5 6 7 8 9 interface UserPort { suspend fun create(command: CreateUserCommand): CreateUserResult suspend fun update(command: UpdateUserCommand): UpdateUserResult } sealed class CreateUserResult { data class Success(val userId: UserId) : CreateUserResult() data class EmailAlreadyExists(val email: String) : CreateUserResult() } L2 Port Example# 1 2 3 4 5 6 7 8 9 10 interface LoginPort { suspend fun login(request: LoginRequest): LoginResult suspend fun logout(request: LogoutRequest): LogoutResult } sealed class LoginResult { data class Success(val accessToken: String, val refreshToken: String) object InvalidCredentials object AccountLocked } Adapter Example# 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 @Component class LoginAdapter( private val userPort: UserPort, private val tokenPort: TokenPort ) : LoginPort { @Transactional override suspend fun login(request: LoginRequest): LoginResult { val user = userPort.findByEmail(request.email) ?: return LoginResult.InvalidCredentials if (!user.verifyPassword(request.password)) { return LoginResult.InvalidCredentials } val tokens = tokenPort.generate(user.id) return LoginResult.Success(tokens.accessToken, tokens.refreshToken) } } TypeScript / NestJS# Port Example# 1 2 3 4 5 6 7 8 9 10 11 export const LOGIN_PORT = Symbol(\u0026#39;LOGIN_PORT\u0026#39;); export interface LoginPort { login(request: LoginRequest): Promise\u0026lt;LoginResult\u0026gt;; logout(): Promise\u0026lt;void\u0026gt;; } export type LoginResult = | { type: \u0026#39;success\u0026#39;; accessToken: string; refreshToken: string } | { type: \u0026#39;invalidCredentials\u0026#39; } | { type: \u0026#39;accountLocked\u0026#39; }; Go# Port Example# 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 type LoginPort interface { Login(ctx context.Context, req LoginRequest) (LoginResult, error) Logout(ctx context.Context, req LogoutRequest) error } type LoginResult struct { Type string AccessToken string RefreshToken string } const ( LoginSuccess = \u0026#34;success\u0026#34; LoginInvalidCredentials = \u0026#34;invalid_credentials\u0026#34; ) Next Steps# Frontend Conventions "},{"id":7,"href":"/en/docs/configuration/","title":"Configuration","section":"Documentation","content":"Configuration# Configure integration between Claude, Obsidian, and PA-Retriever.\nOverview# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” MCP â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ Claude â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ PA-Retriever â”‚ â”‚ Desktop â”‚ â”‚ MCP Server â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â–¼ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ Obsidian â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ mcp-docs/ â”‚ â”‚ (Editor) â”‚ Files â”‚ (Vault) â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜Sections# Claude Integration Obsidian Settings PA-Retriever Config "},{"id":8,"href":"/en/docs/installation/windows/","title":"Windows Installation","section":"Installation","content":"Windows Installation Guide# Set up the PA-Layer environment on Windows 10/11.\n1. Install with Scoop (Recommended)# 1 2 3 4 5 6 7 8 9 10 # Install Scoop (if not installed) Set-ExecutionPolicy RemoteSigned -Scope CurrentUser irm get.scoop.sh | iex # Install PA-Retriever scoop bucket add pa-layer https://github.com/pa-layer/scoop-bucket scoop install pa-retriever # Verify installation pa version 2. Manual Installation# Download with PowerShell# 1 2 3 4 5 6 7 8 9 10 11 12 13 14 # Navigate to Downloads cd $HOME\\Downloads # Download Invoke-WebRequest -Uri \u0026#34;https://github.com/pa-layer/pa-retriever/releases/latest/download/pa-retriever-windows-amd64.zip\u0026#34; -OutFile \u0026#34;pa-retriever.zip\u0026#34; # Extract Expand-Archive -Path \u0026#34;pa-retriever.zip\u0026#34; -DestinationPath \u0026#34;pa-retriever\u0026#34; # Create install directory New-Item -ItemType Directory -Force -Path \u0026#34;$HOME\\.local\\bin\u0026#34; # Move binary Move-Item -Path \u0026#34;pa-retriever\\pa.exe\u0026#34; -Destination \u0026#34;$HOME\\.local\\bin\\pa.exe\u0026#34; Add to PATH# 1 2 3 4 5 6 $currentPath = [Environment]::GetEnvironmentVariable(\u0026#34;Path\u0026#34;, \u0026#34;User\u0026#34;) $newPath = \u0026#34;$HOME\\.local\\bin\u0026#34; if ($currentPath -notlike \u0026#34;*$newPath*\u0026#34;) { [Environment]::SetEnvironmentVariable(\u0026#34;Path\u0026#34;, \u0026#34;$currentPath;$newPath\u0026#34;, \u0026#34;User\u0026#34;) } 3. Install Required Tools# Claude Desktop# Download Windows version from claude.ai/download Run installer Sign in after installation Obsidian# 1 scoop install obsidian Git# 1 scoop install git 4. PowerShell Profile# Profile location# 1 2 $PROFILE # Usually: C:\\Users\\\u0026lt;username\u0026gt;\\Documents\\PowerShell\\Microsoft.PowerShell_profile.ps1 Profile settings# 1 2 3 4 5 6 7 8 # PA-Layer environment variables $env:PA_HOME = \u0026#34;$HOME\\.pa\u0026#34; $env:PA_WORKSPACE = \u0026#34;$HOME\\playground\u0026#34; # Shortcut functions function pas { pa search $args } function pai { pa index $args } function pac { pa code $args } 5. Initialize# 1 2 3 4 5 # Interactive initialization pa init # Quick initialization pa init --yes Next Steps# Workspace Setup Configuration "},{"id":9,"href":"/en/docs/installation/linux/","title":"Linux Installation","section":"Installation","content":"Linux Installation Guide# Set up the PA-Layer environment on Ubuntu, Debian, Fedora, and other Linux distributions.\n1. Install with Script (Recommended)# 1 2 3 4 5 # Run install script curl -sSL https://pa-layer.github.io/install.sh | bash # Verify installation pa version 2. Manual Installation# x64 (amd64)# 1 2 3 4 5 6 7 8 9 10 11 12 13 # Download curl -LO https://github.com/pa-layer/pa-retriever/releases/latest/download/pa-retriever-linux-amd64.tar.gz # Extract tar xzf pa-retriever-linux-amd64.tar.gz # Install chmod +x pa sudo mv pa /usr/local/bin/ # Or install to user directory mkdir -p ~/.local/bin mv pa ~/.local/bin/ ARM64 (aarch64)# 1 2 3 4 5 6 7 # Download curl -LO https://github.com/pa-layer/pa-retriever/releases/latest/download/pa-retriever-linux-arm64.tar.gz # Extract and install tar xzf pa-retriever-linux-arm64.tar.gz chmod +x pa sudo mv pa /usr/local/bin/ 3. Shell Configuration# Bash (~/.bashrc)# 1 2 3 4 5 6 7 8 9 # PA-Layer environment variables export PA_HOME=\u0026#34;$HOME/.pa\u0026#34; export PA_WORKSPACE=\u0026#34;$HOME/playground\u0026#34; export PATH=\u0026#34;$HOME/.local/bin:$PATH\u0026#34; # Aliases alias pas=\u0026#34;pa search\u0026#34; alias pai=\u0026#34;pa index\u0026#34; alias pac=\u0026#34;pa code\u0026#34; Zsh (~/.zshrc)# 1 2 3 4 5 6 7 8 9 # PA-Layer environment variables export PA_HOME=\u0026#34;$HOME/.pa\u0026#34; export PA_WORKSPACE=\u0026#34;$HOME/playground\u0026#34; export PATH=\u0026#34;$HOME/.local/bin:$PATH\u0026#34; # Aliases alias pas=\u0026#34;pa search\u0026#34; alias pai=\u0026#34;pa index\u0026#34; alias pac=\u0026#34;pa code\u0026#34; 4. Initialize# 1 2 3 4 5 # Interactive initialization pa init # Quick initialization pa init --yes Next Steps# Workspace Setup Configuration "},{"id":10,"href":"/en/docs/pa-layer/","title":"PA-Layer","section":"Documentation","content":"PA-Layer# A software architecture convention for working with AI agents.\nWhat is PA-Layer?# PA-Layer is a practical architecture convention combining Port/Adapter (Hexagonal) architecture with CQS (Command-Query Separation) patterns.\nPA-Layer = Port/Adapter + CQS + AI-Friendly ConventionWhy PA-Layer?# 1. AI Agent Friendly# Feature Description Clear boundaries Responsibilities separated by Port units for easy context understanding Standardized documents Consistent format for AI pattern learning and prediction Selective loading Load only needed documents to maximize token efficiency 2. Token Efficient# Aspect Traditional RAG PA-Layer Search method Vector similarity Structured query Result format Document chunks Complete documents Context Partial Fully preserved Dependency tracking Not possible Tracked via Wiki links 3. Proven Architecture# Hexagonal Architecture: Separation of business logic and infrastructure CQS Pattern: Clear separation of commands and queries Layer Structure: Enforced dependency direction L1 â†’ LM â†’ L2 Sections# Architecture Overview Backend Conventions Frontend Conventions "},{"id":11,"href":"/en/docs/pa-retriever/","title":"PA-Retriever","section":"Documentation","content":"PA-Retriever# A CLI tool for indexing and searching PA-Layer documents.\nOverview# PA-Retriever provides the following features:\nDocument Indexing: Parse markdown documents and store in SQLite Advanced Search: Support for AND/OR/NOT queries MCP Server: Real-time integration with Claude Code Indexing: Extract code signatures and connect to documents Bundle Sharing: Document packaging and distribution Sections# Basic Usage Search Guide Code Indexing Using with Claude Advanced Features "},{"id":12,"href":"/en/docs/pa-retriever/with-claude/","title":"Using with Claude","section":"PA-Retriever","content":"Using with Claude# How to use PA-Retriever with Claude Desktop and Claude Code.\nMCP Connection Setup# 1 2 3 4 5 # Auto setup pa mcp install # Check status pa mcp status Restart Claude Desktop after setup.\nBasic Conversation Commands# Search Documents# User: Find all L2 Ports in the auth domain Claude: [search_docs call] Found the following L2 Ports in auth domain: 1. L2-LoginPort - Login process 2. L2-SignupPort - Signup process 3. L2-PasswordResetPort - Password resetGet Document# User: Show me the full L2-LoginPort document Claude: [get_doc call] # L2-LoginPort ## Overview L2 Port that handles login process. ## Interface ...Find Port# User: Find the spec and implementation for LoginPort Claude: [find_port call] Found LoginPort: ğŸ“„ Document: auth.L2-LoginPort ğŸ’» Code: - my-backend/src/.../LoginPort.kt (interface) - my-backend/src/.../LoginAdapter.kt (class) Practical Scenarios# Scenario 1: Write New Document# User: Create an L2-CheckoutPort document for the payment domain. Reference the existing L2 document format. Claude: Let me check the existing L2 document format first. [search_docs type:l2 limit:2] Based on existing documents, here\u0026#39;s the new document: --- type: l2 domain: payment status: draft depends_on: [L1-PaymentPort, L1-CartPort] --- # L2-CheckoutPort ...Scenario 2: Generate Code# User: Create a Kotlin implementation based on L2-LoginPort spec Claude: Let me check the L2-LoginPort spec first. [get_doc id:auth.L2-LoginPort] Let me also check dependencies. [get_doc id:auth.L1-UserPort] [get_doc id:auth.L1-TokenPort] Based on the spec, here\u0026#39;s the implementation: @Component class LoginAdapter( private val userPort: UserPort, private val tokenPort: TokenPort ) : LoginPort { ... }Scenario 3: Architecture Review# User: Analyze the current auth domain architecture Claude: Let me analyze the auth domain documents. [search_docs domain:auth] ## Auth Domain Architecture Analysis ### Layer Structure API Layer â””â”€â”€ API-Login, API-Signup L2 (Feature) â””â”€â”€ L2-LoginPort, L2-SignupPort L1 (Domain) â””â”€â”€ L1-UserPort, L1-TokenPort ### Dependencies - L2-LoginPort â†’ L1-UserPort, L1-TokenPort ... Tips# Efficient Conversations# Be specific: \u0026ldquo;show document\u0026rdquo; â†’ \u0026ldquo;show L2-LoginPort document in auth domain\u0026rdquo; Provide context: \u0026ldquo;create new document\u0026rdquo; â†’ \u0026ldquo;create PaymentPort document in L2 format\u0026rdquo; Step by step: Break complex tasks into multiple requests Explicit Tool Calls# You can ask Claude to use specific tools:\nUser: Use search_docs to search for type:api documents User: Use get_architecture to show PA-Layer rules User: Use find_port to find LoginPort Next Steps# Advanced Features "},{"id":13,"href":"/en/docs/installation/workspace/","title":"Workspace Setup","section":"Installation","content":"Workspace Setup# Directory structure for efficient work with PA-Layer system.\nRecommended Structure# ~/playground/ # Workspace root â”œâ”€â”€ mcp-docs/ # ObsidianVault (documents) â”‚ â”œâ”€â”€ .obsidian/ # Obsidian settings â”‚ â”œâ”€â”€ ports/ # Port documents â”‚ â”‚ â”œâ”€â”€ auth/ â”‚ â”‚ â”‚ â”œâ”€â”€ L1-AuthPort.md â”‚ â”‚ â”‚ â”œâ”€â”€ L2-LoginPort.md â”‚ â”‚ â”‚ â””â”€â”€ L2-SignupPort.md â”‚ â”‚ â””â”€â”€ users/ â”‚ â”‚ â””â”€â”€ L2-ProfilePort.md â”‚ â”œâ”€â”€ templates/ # Templates â”‚ â”œâ”€â”€ guides/ # Guides â”‚ â””â”€â”€ .pa-index.yaml # Index settings â”‚ â”œâ”€â”€ CodeSpace/ # Code projects â”‚ â”œâ”€â”€ my-backend/ # Kotlin/Spring project â”‚ â”œâ”€â”€ my-frontend/ # React project â”‚ â””â”€â”€ my-api/ # Go API project â”‚ â””â”€â”€ bundles/ # Shared Bundle storage ~/.pa/ # PA-Retriever settings â”œâ”€â”€ config.yaml # Main config â”œâ”€â”€ default.db # Index database â”œâ”€â”€ keys/ # Signing keys â””â”€â”€ peers.json # LAN peer cacheBenefits# 1. AI Agent Collaboration# Clear context: AI knows which documents/code to reference Token efficiency: Load only needed documents Consistent structure: AI can navigate predictable locations 2. Document-Code Connection# 1 2 3 4 5 6 7 8 9 \u0026lt;!-- mcp-docs/ports/auth/L2-LoginPort.md --\u0026gt; --- type: l2 domain: auth port_id: LoginPort --- # L2-LoginPort @pa-port: LoginPort 1 2 3 4 // CodeSpace/my-backend/src/.../port/LoginPort.kt interface LoginPort { fun login(request: LoginRequest): LoginResult } PA-Retriever automatically connects documents and code.\n3. Multi-project Support# 1 2 3 4 5 6 7 # Manage multiple workspaces with profiles pa profile add work --docs=~/work/docs --db=~/.pa/work.db pa profile add personal --docs=~/personal/notes --db=~/.pa/personal.db # Switch profiles pa use work pa use personal Setup Checklist# Create ~/playground directory Create ~/playground/mcp-docs and initialize Git Create ~/playground/CodeSpace Open mcp-docs Vault in Obsidian Run pa init Run pa index Run pa mcp install Restart Claude Desktop Next Steps# Configuration - Detailed Claude, Obsidian setup "}]